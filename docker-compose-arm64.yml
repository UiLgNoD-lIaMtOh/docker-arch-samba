services:
  alpine-samba-app:
    build:
      context: .
    command:
      - bash
      - run_samba
    platform: linux/arm64/v8
    container_name: alpine-samba-arm64v8-container
    environment:
      - USERS=root
      - PASSWORD=123456
      #- http_proxy=http://IP:PORT
      #- https_proxy=http://IP:PORT
      #- all_proxy=socks5://IP:PORT
    image: ghcr.io/uilgnod-liamtoh/alpine-samba:latest
    #network_mode: bridge
    networks:
        - app_net
    ports:
      - "139:139"
      - "445:445"
    privileged: true
    restart: "always"
    logging:
      driver: json-file
      options:
        max-size: 1m
    volumes:
      - ./sharedir/samba/conf:/etc/samba
      - ./sharedir:/sharedir
networks:
  app_net:
    driver: bridge
